{"version":3,"sources":["page/Chat.jsx","logo.svg","config/API/api-local.jsx","config/API/api-prod.jsx","config/API/api.config.jsx","page/Home.jsx","page/Error.jsx","page/DashBoard.jsx","App.js","reportWebVitals.js","index.js"],"names":["socket","protocol","host","port","trailUrl","hostUrl","apiUrl","endpoint","API","window","location","hostname","API_LOCAL","Home","useState","username","setUsername","history","useHistory","toDashboard","a","axios","post","push","className","style","height","onChange","e","target","value","placeholder","type","onClick","Chat","input","setInput","queryString","parse","useLocation","search","room","messages","setMessages","chatBoxRef","useRef","useEffect","io","emit","storedMessages","JSON","localStorage","getItem","on","res","setItem","stringify","current","scrollTop","scrollHeight","width","ref","overflowY","map","x","message","onSubmit","preventDefault","handleSubmit","Error","DashBoard","users","setUsers","newGroupName","setNewGroupName","groups","setGroups","getUsers","data","getGroups","get","toPersonalChat","username2","username1","toGroupChat","roomId","makeNewGroup","groupname","user","cursor","action","group","id","name","App","exact","path","component","from","to","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.9c733dc7.chunk.js","sourcesContent":["import React, { useEffect, useRef, useState } from 'react'\r\nimport { useLocation } from 'react-router';\r\nimport queryString from 'query-string';\r\nimport { io } from \"socket.io-client\";\r\nimport { API } from '../config/API/api.config';\r\n\r\nlet socket;\r\n\r\nconst Chat = () => {\r\n\r\n  const [input, setInput] = useState(\"\");\r\n  const { username, room } = queryString.parse(useLocation().search);\r\n  const [messages, setMessages] = useState([]);\r\n  const chatBoxRef = useRef(null);\r\n\r\n  const handleSubmit = (e) => {\r\n    e.preventDefault();\r\n    if(input) {\r\n      socket.emit('sendMessage', { username, room, message: input });\r\n      setInput(\"\");\r\n    }\r\n  }\r\n\r\n  useEffect(() => {\r\n    socket = io(API.hostUrl);\r\n    socket.emit('join', { username, room });\r\n\r\n    const storedMessages = JSON.parse(localStorage.getItem(room));\r\n\r\n    if(storedMessages) {\r\n      setMessages(storedMessages);\r\n      return;\r\n    }\r\n  }, [])\r\n\r\n  useEffect(() => {\r\n    socket.on('message', (res) => {\r\n      setMessages((messages) => [...messages, res]);\r\n    })\r\n  }, [])\r\n\r\n  useEffect(() => {\r\n    localStorage.setItem(room, JSON.stringify(messages));\r\n    chatBoxRef.current.scrollTop = chatBoxRef.current.scrollHeight;\r\n  }, [messages])\r\n\r\n  return (\r\n    <div className=\"bg-primary w-100 vh-100 d-flex justify-content-center align-items-center\">\r\n      <div className=\"bg-light rounded-3 d-flex flex-column justify-content-end\" style={{ height: '80%', width: '60%' }}>\r\n        <div ref={chatBoxRef} className=\"chat-box d-flex flex-column mt-2\" style={{ overflowY: 'scroll'}}>\r\n          {\r\n            messages?.map((x) => {\r\n              return x.username === username ? (\r\n                <div className='align-self-end text-primary d-flex align-items-center'>\r\n                  {/* <div className=\"\">{x.username}</div> */}\r\n                  <div className=\"bg-primary py-2 px-3 rounded-pill text-light m-2\" >{x.message}</div>\r\n                </div>\r\n              ) : (\r\n                <div className='align-self-start text-primary d-flex align-items-center'>\r\n                  <div className=\"bg-primary py-2 px-3 rounded-pill text-light m-2\" >{x.message}</div>\r\n                  <div className=\"\">{x.username}</div>\r\n                </div>\r\n              );\r\n            })\r\n          }\r\n        </div>\r\n        <form onSubmit={(e) => handleSubmit(e)} className=\"d-flex m-2\">\r\n          <input\r\n            className=\"border border-1 rounded-pill flex-grow-1 px-3 py-2\"\r\n            type=\"text\"\r\n            value={input}\r\n            onChange={(e) => setInput(e.target.value)}\r\n          />\r\n          <input type=\"submit\" value=\"send\" className=\"bg-primary text-light rounded-pill px-4 ms-2\"></input>\r\n        </form>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Chat\r\n","export default __webpack_public_path__ + \"static/media/logo.6ce24c58.svg\";","const protocol = 'http';\r\nconst host = '192.168.56.1';\r\nconst port = '5000';\r\nconst trailUrl = 'api/v1';\r\n\r\nconst hostUrl = `${protocol}://${host}${port ? ':' + port : ''}/`;\r\nconst endpoint = `${protocol}://${host}${(port ? ':' + port : '')}/${trailUrl}`;\r\n\r\nexport default {\r\n    protocol: protocol,\r\n    host: host,\r\n    port: port,\r\n    apiUrl: trailUrl,\r\n    endpoint: endpoint,\r\n    hostUrl: hostUrl,\r\n};\r\n","const protocol = 'https';\r\nconst host = 'chatmake.herokuapp.com';\r\nconst port = '';\r\nconst trailUrl = 'api/v1';\r\n\r\nconst hostUrl = `${protocol}://${host}${port ? ':' + port : ''}`;\r\nconst endpoint = `${protocol}://${host}${(port ? ':' + port : '')}/${trailUrl}`;\r\n\r\nexport default {\r\n    protocol: protocol,\r\n    host: host,\r\n    port: port,\r\n    apiUrl: trailUrl,\r\n    endpoint: endpoint,\r\n    hostUrl: hostUrl\r\n};\r\n","import API_LOCAL from './api-local.jsx';\r\nimport API_PROD from './api-prod.jsx';\r\nconst hostname = window.location.hostname;\r\nconst port = window.location.port;\r\nlet isLocalApi =  +port >= 3000;\r\n\r\n// export const API = (hostname === 'localhost' && isLocalApi) ? API_LOCAL : API_PROD\r\n// export const API = API_PROD;\r\nexport const API = API_LOCAL;","import axios from 'axios';\r\nimport React, { useEffect, useState } from 'react'\r\nimport { useHistory } from 'react-router';\r\nimport { API } from '../config/API/api.config';\r\n\r\nconst Home = () => {\r\n\r\n  const [username, setUsername] = useState(\"\");\r\n  const history = useHistory();\r\n\r\n  const toDashboard = async () => {\r\n    await axios.post(`${API.endpoint}/user/auth/signup`, { username });\r\n    history.push(`/dashboard?username=${username}`);\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      <div className=\"home-box container py-5\">\r\n        <h1 className=\"text-center text-primary mb-5\">Chat Make</h1>\r\n        <div className=\"bg-primary d-flex flex-column p-5 rounded-3 justify-content-center align-items-center\" style={{height: '60vh'}}>\r\n          <input className=\"w-75 rounded-3 px-3 py-2\" onChange={(e) => setUsername(e.target.value)} value={username} placeholder=\"username\" type=\"text\"/>\r\n          <div onClick={toDashboard} className=\"btn btn-light mt-3 text-primary px-4\">Enter</div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Home\r\n","import React from 'react'\r\n\r\nconst Error = () => {\r\n  return (\r\n    <div className=\"vh-100\">\r\n      <div className=\"container h-100 d-flex justify-content-center align-items-center\">\r\n        <h1 className=\"display-1\">Opps!! Wrong URL</h1>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Error\r\n","import React, { useEffect, useState } from 'react'\r\nimport { useLocation, useHistory } from 'react-router';\r\nimport queryString from 'query-string';\r\nimport axios from 'axios';\r\nimport { API } from '../config/API/api.config';\r\n\r\nconst DashBoard = () => {\r\n\r\n  const { username } = queryString.parse(useLocation().search);\r\n  const [users, setUsers] = useState([]);\r\n  const [newGroupName, setNewGroupName] = useState(\"\");\r\n  const [groups, setGroups] = useState([]);\r\n  const history = useHistory();\r\n\r\n  const getUsers = async () => {\r\n    const res = await axios.post(`${API.endpoint}/user/get-all`, { username });\r\n    setUsers(res.data.data);\r\n  }\r\n\r\n  const getGroups = async () => {\r\n    const res = await axios.get(`${API.endpoint}/room/get-groups`);\r\n    setGroups(res.data.groups);\r\n  }\r\n\r\n  const toHome = () => {\r\n    history.push('/')\r\n  }\r\n\r\n  const toPersonalChat = async (username2) => {\r\n    const { data: { data } } = await axios.post(`${API.endpoint}/room/one-to-one`, {\r\n      username1: username,\r\n      username2: username2\r\n    });\r\n    history.push(`/chat?username=${username}&room=${data}`)\r\n  }\r\n\r\n  const toGroupChat = async (roomId) => {\r\n    history.push(`/chat?username=${username}&room=${roomId}`)\r\n  }\r\n\r\n  const makeNewGroup = async (e) => {\r\n    e.preventDefault();\r\n    await axios.post(`${API.endpoint}/room/create-group`, {username, groupname: newGroupName});\r\n    getGroups();\r\n  }\r\n\r\n  useEffect(() => {\r\n    getUsers();\r\n    getGroups();\r\n  }, [])\r\n\r\n  return (\r\n    <div className=\"w-100 vh-100\">\r\n      <div className=\"container h-100 pb-5 d-flex flex-column justify-content-center align-items-center\">\r\n        <div className=\"d-flex my-5 w-100 justify-content-between\">\r\n          <div onClick={toHome} className=\"btn btn-primary fs-5 px-4 text-light\">\r\n            back\r\n          </div>\r\n          <div className=\"text-primary fs-5 text-center\">\r\n            Welcome, {username}\r\n          </div>\r\n        </div>\r\n        <div className=\"w-100 h-75 d-flex\">\r\n          <div className=\"w-50 p-3 flex-grow-1 d-flex flex-column\">\r\n            <div className=\"w-100 rounded-3 bg-primary text-center py-2 text-light fw-bold\">Users</div>\r\n            <div className=\"p-2 pt-3 d-flex flex-wrap\">\r\n              {\r\n                users?.map((user) => (<div onClick={() => toPersonalChat(user.username)} className=\"border border-primary px-4 py-1 m-2 rounded-pill text-primary\" style={{ cursor: 'pointer' }}>{user.username}</div>\r\n                ))\r\n              }\r\n            </div>\r\n          </div>\r\n          <div className=\"w-50 p-3 flex-grow-1 d-flex flex-column\">\r\n            <div className=\"w-100 rounded-3 bg-primary text-center py-2 text-light fw-bold\">Groups</div>\r\n            <form onSubmit={(e) => makeNewGroup(e)} className=\"d-flex py-3 px-5\" action=\"\">\r\n              <input className=\"rounded-start border border-primary flex-grow-1 px-2 py-1\" type=\"text\" value={newGroupName} onChange={(e) => setNewGroupName(e.target.value)} />\r\n              <input className=\"bg-primary text-light rounded-end px-5\" type=\"submit\" />\r\n            </form>\r\n            <div className=\"p-2 pt-3 d-flex flex-wrap\">\r\n              {\r\n                groups?.map((group) => (<div onClick={() => toGroupChat(group.id)} className=\"border border-primary px-4 py-1 m-2 rounded-pill text-primary\" style={{ cursor: 'pointer' }}>{group.name}</div>\r\n                ))\r\n              }\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default DashBoard\r\n","import logo from './logo.svg';\nimport './css/custom.css';\nimport Home from './page/Home';\nimport { HashRouter, Redirect, Route, Switch } from 'react-router-dom';\nimport Chat from './page/Chat';\nimport Error from './page/Error';\nimport DashBoard from './page/DashBoard';\n\nfunction App() {\n\n  return (\n    <div className=\"App\">\n      <HashRouter>\n        <Switch>\n          <Route exact path=\"/\" component={Home} />\n          <Route exact path=\"/dashboard\" component={DashBoard} />\n          <Route exact path=\"/chat\" component={Chat} />\n          <Route exact path=\"/error\" component={Error} />\n          <Redirect from=\"**\" to=\"/error\" />\n        </Switch>\n      </HashRouter>\n    </div>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}